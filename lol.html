<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحدي الحب الرقمي - أمير ودلال 💖</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #e83e8c;
            --secondary-color: #ff85a2;
            --accent-color: #d23369;
            --text-color: #2d2d2d;
            --light-color: #fff5f7;
            --dark-color: #5a2a37;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --gradient: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            --radius: 12px;
            --section-bg: rgba(255, 255, 255, 0.9);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light-color);
            color: var(--text-color);
            line-height: 1.8;
            min-height: 100vh;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgzMCkiPjxyZWN0IHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHg9IjAiIHk9IjAiIGZpbGw9IiNlODNlOGMiIG9wYWNpdHk9IjAuMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==');
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: var(--gradient);
            color: white;
            border-radius: var(--radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
            z-index: 1;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuLWJhY2siIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cGF0aCBkPSJNMCAwIEwxMDAgMTAwIE0xMDAgMCBMMCAxMDAiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm4tYmFjaykiLz48L3N2Zz4=');
            opacity: 0.3;
            z-index: -1;
        }
        
        header:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(232, 62, 140, 0.3);
        }
        
        h1 {
            margin: 0;
            font-size: 2.2rem;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.7rem;
            position: relative;
            display: inline-block;
        }
        
        h2::after {
            content: "";
            position: absolute;
            bottom: -2px;
            right: 0;
            width: 50px;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
        }
        
        .section {
            background-color: var(--section-bg);
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .challenge {
            background-color: var(--light-color);
            border-right: 4px solid var(--primary-color);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: var(--radius);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .challenge::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(232,62,140,0.1) 0%, rgba(255,255,255,0) 50%);
            z-index: 0;
        }
        
        .challenge:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .challenge h3 {
            margin-top: 0;
            color: var(--dark-color);
            font-size: 1.3rem;
            margin-bottom: 15px;
            position: relative;
        }
        
        .challenge p {
            position: relative;
            color: #555;
        }
        
        button, .btn {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
            font-weight: 600;
            margin-top: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(232, 62, 140, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        button::after, .btn::after {
            content: "";
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
            pointer-events: none;
        }
        
        button:hover, .btn:hover {
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(232, 62, 140, 0.4);
        }
        
        button:active, .btn:active {
            transform: translateY(0);
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 0.9rem;
        }
        
        .completed {
            position: relative;
            opacity: 0.9;
        }
        
        .completed::after {
            content: "✓ تم الإنجاز";
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--gradient);
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 1;
        }
        
        textarea, input, select {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #eee;
            border-radius: var(--radius);
            font-family: inherit;
            transition: var(--transition);
            resize: vertical;
            min-height: 120px;
            background-color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
        }
        
        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(232, 62, 140, 0.2);
            background-color: white;
        }
        
        .memory-item {
            background-color: white;
            border: 1px solid #f0f0f0;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: var(--radius);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .memory-item::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 4px;
            height: 100%;
            background: var(--gradient);
        }
        
        .memory-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-color: var(--secondary-color);
        }
        
        .memory-date {
            font-size: 0.85rem;
            color: #777;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .memory-date i {
            color: var(--primary-color);
        }
        
        .countdown {
            font-size: 1.8rem;
            text-align: center;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        .countdown div {
            background: var(--gradient);
            color: white;
            padding: 20px 25px;
            border-radius: var(--radius);
            min-width: 100px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .countdown div:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(232, 62, 140, 0.3);
        }
        
        .countdown div span {
            display: block;
            font-size: 0.9rem;
            margin-top: 10px;
            opacity: 0.9;
            font-weight: normal;
        }
        
        .love-note {
            background-color: #fff0f5;
            padding: 25px;
            border-radius: var(--radius);
            margin-bottom: 25px;
            border: 1px dashed var(--primary-color);
            position: relative;
            transition: var(--transition);
        }
        
        .love-note:hover {
            background-color: #ffeef2;
            transform: translateY(-3px);
        }
        
        .love-note::before {
            content: "💌";
            position: absolute;
            top: -15px;
            right: -15px;
            font-size: 2.5rem;
            opacity: 0.2;
            z-index: 0;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
            box-shadow: 0 4px 10px rgba(108, 117, 125, 0.3);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #5a6268, #343a40);
            box-shadow: 0 6px 15px rgba(108, 117, 125, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            box-shadow: none;
        }
        
        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #777;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: var(--radius);
            border: 2px dashed #ddd;
        }
        
        .empty-state img {
            width: 100px;
            opacity: 0.5;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        
        .empty-state p {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        
        .theme-selector {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .theme-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .theme-option::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
        }
        
        .theme-option:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .theme-option.active {
            border-color: var(--text-color);
            transform: scale(1.1);
        }
        
        .badge {
            display: inline-block;
            padding: 5px 10px;
            background: var(--gradient);
            color: white;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .progress-container {
            width: 100%;
            background-color: #f0f0f0;
            border-radius: 50px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 10px;
            background: var(--gradient);
            border-radius: 50px;
            transition: width 0.5s ease;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .stat-item {
            flex: 1;
            min-width: 120px;
            background-color: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #777;
        }
        
        .tab-container {
            margin-bottom: 20px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #777;
        }
        
        .tab:hover {
            color: var(--primary-color);
        }
        
        .tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .floating-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 5px 20px rgba(232, 62, 140, 0.4);
            cursor: pointer;
            transition: var(--transition);
            z-index: 100;
        }
        
        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(232, 62, 140, 0.5);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: var(--radius);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            animation: slideUp 0.4s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--primary-color);
            transform: rotate(90deg);
        }
        
        .achievement {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background-color: white;
            border-radius: var(--radius);
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .achievement:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .achievement-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .achievement.locked {
            opacity: 0.6;
            background-color: #f9f9f9;
        }
        
        .achievement.locked .achievement-icon {
            background: linear-gradient(135deg, #ccc, #999);
        }
        
        .achievement-progress {
            width: 100%;
            height: 5px;
            background-color: #eee;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .achievement-progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 5px;
        }
        
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .photo-item {
            aspect-ratio: 1;
            border-radius: var(--radius);
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .photo-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .photo-item:hover img {
            transform: scale(1.1);
        }
        
        .photo-upload {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f5f5f5;
            border: 2px dashed #ddd;
            cursor: pointer;
        }
        
        .photo-upload i {
            font-size: 2rem;
            color: #aaa;
        }
        
        .photo-upload:hover {
            background-color: #eee;
            border-color: var(--primary-color);
        }
        
        .photo-upload:hover i {
            color: var(--primary-color);
        }
        
        .mood-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .mood-option {
            flex: 1;
            min-width: 60px;
            text-align: center;
            padding: 10px;
            border-radius: var(--radius);
            background-color: white;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .mood-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }
        
        .mood-option.active {
            background: var(--gradient);
            color: white;
            box-shadow: 0 4px 10px rgba(232, 62, 140, 0.3);
        }
        
        .mood-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .mood-label {
            font-size: 0.8rem;
        }
        
        .quote {
            font-style: italic;
            padding: 20px;
            background-color: white;
            border-radius: var(--radius);
            margin: 20px 0;
            position: relative;
            box-shadow: var(--shadow);
        }
        
        .quote::before {
            content: '"';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 3rem;
            color: var(--primary-color);
            opacity: 0.2;
            font-family: serif;
        }
        
        .quote-author {
            text-align: left;
            font-weight: bold;
            color: var(--primary-color);
            margin-top: 10px;
        }
        
        .timeline {
            position: relative;
            margin: 30px 0;
            padding-right: 30px;
        }
        
        .timeline::before {
            content: "";
            position: absolute;
            top: 0;
            right: 15px;
            height: 100%;
            width: 2px;
            background: var(--gradient);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }
        
        .timeline-dot {
            position: absolute;
            top: 5px;
            right: 8px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--gradient);
            z-index: 1;
        }
        
        .timeline-content {
            margin-right: 40px;
            padding: 15px;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .timeline-content::before {
            content: "";
            position: absolute;
            top: 15px;
            right: -10px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid white;
        }
        
        .timeline-date {
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .timeline-text {
            margin-bottom: 0;
        }
        
        .music-player {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin: 20px 0;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .music-cover {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .music-info {
            flex: 1;
        }
        
        .music-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .music-artist {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 10px;
        }
        
        .music-progress {
            width: 100%;
            height: 5px;
            background-color: #eee;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .music-progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 5px;
            width: 70%;
        }
        
        .music-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .music-control {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .music-control:hover {
            background-color: rgba(232, 62, 140, 0.1);
        }
        
        .music-control.play {
            background: var(--gradient);
            color: white;
            width: 45px;
            height: 45px;
        }
        
        .music-control.play:hover {
            transform: scale(1.1);
        }
        
        .music-time {
            font-size: 0.8rem;
            color: #777;
            display: flex;
            justify-content: space-between;
        }
        
        .anniversary-card {
            background: var(--gradient);
            color: white;
            border-radius: var(--radius);
            padding: 25px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .anniversary-card::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            pointer-events: none;
        }
        
        .anniversary-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            position: relative;
        }
        
        .anniversary-date {
            font-size: 1.2rem;
            margin-bottom: 15px;
            position: relative;
        }
        
        .anniversary-days {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 20px 0;
            position: relative;
            text-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .anniversary-message {
            position: relative;
            font-style: italic;
        }
        
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 350px;
            width: 100%;
        }
        
        .notification {
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: var(--radius);
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
            transform: translateX(0);
            opacity: 1;
            transition: all 0.3s ease;
        }
        
        .notification::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 5px;
            height: 100%;
        }
        
        .notification.success {
            background-color: #2ecc71;
        }
        
        .notification.error {
            background-color: #e74c3c;
        }
        
        .notification.info {
            background-color: #3498db;
        }
        
        .notification.warning {
            background-color: #f39c12;
        }
        
        .notification.hide {
            transform: translateX(100%);
            opacity: 0;
        }
        
        .notification-icon {
            font-size: 1.2rem;
        }
        
        .notification-close {
            margin-right: 0;
            margin-left: auto;
            cursor: pointer;
            opacity: 0.8;
            transition: var(--transition);
        }
        
        .notification-close:hover {
            opacity: 1;
        }
        
        .couple-goal {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .goal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .goal-title {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .goal-date {
            font-size: 0.8rem;
            color: #777;
        }
        
        .goal-progress {
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .goal-progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
        }
        
        .goal-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .goal-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .goal-completed {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--gradient);
            color: white;
            padding: 3px 10px;
            border-radius: 50px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .milestone {
            position: relative;
            padding-right: 30px;
            margin-bottom: 30px;
        }
        
        .milestone::before {
            content: "";
            position: absolute;
            top: 0;
            right: 10px;
            width: 2px;
            height: 100%;
            background: var(--gradient);
        }
        
        .milestone-dot {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--gradient);
            z-index: 1;
        }
        
        .milestone-content {
            background-color: white;
            border-radius: var(--radius);
            padding: 15px;
            margin-right: 20px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .milestone-content::before {
            content: "";
            position: absolute;
            top: 15px;
            right: -10px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid white;
        }
        
        .milestone-date {
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 5px;
        }
        
        .milestone-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .milestone-description {
            color: #555;
        }
        
        .couple-quiz {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .quiz-question {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .quiz-options {
            margin-bottom: 20px;
        }
        
        .quiz-option {
            display: block;
            margin-bottom: 10px;
            padding: 10px 15px;
            background-color: #f9f9f9;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .quiz-option:hover {
            background-color: #f0f0f0;
        }
        
        .quiz-option.selected {
            background: var(--gradient);
            color: white;
        }
        
        .quiz-result {
            display: none;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: var(--radius);
            margin-top: 15px;
        }
        
        .quiz-result.show {
            display: block;
        }
        
        .quiz-score {
            font-weight: bold;
            color: var(--primary-color);
            margin-top: 10px;
        }
        
        .love-meter {
            text-align: center;
            margin: 30px 0;
        }
        
        .meter-container {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            position: relative;
        }
        
        .meter-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(var(--primary-color) 0%, var(--accent-color) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            box-shadow: 0 5px 20px rgba(232, 62, 140, 0.3);
        }
        
        .meter-circle::before {
            content: "";
            position: absolute;
            width: 80%;
            height: 80%;
            background-color: white;
            border-radius: 50%;
            z-index: 2;
        }
        
        .meter-value {
            position: absolute;
            z-index: 3;
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .meter-label {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .meter-description {
            color: #777;
            max-width: 300px;
            margin: 0 auto;
        }
        
        .compatibility-result {
            text-align: center;
            margin: 30px 0;
        }
        
        .compatibility-value {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 20px 0;
            text-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .compatibility-label {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .compatibility-description {
            color: #777;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .compatibility-details {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .compatibility-detail {
            flex: 1;
            min-width: 120px;
            text-align: center;
        }
        
        .detail-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .detail-label {
            font-size: 0.9rem;
            color: #777;
        }
        
        .couple-bucket-list {
            margin: 30px 0;
        }
        
        .bucket-list-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background-color: white;
            border-radius: var(--radius);
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .bucket-list-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .bucket-list-checkbox {
            width: 25px;
            height: 25px;
            border: 2px solid var(--primary-color);
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: var(--transition);
        }
        
        .bucket-list-checkbox.checked {
            background: var(--gradient);
            color: white;
        }
        
        .bucket-list-text {
            flex: 1;
        }
        
        .bucket-list-text.completed {
            text-decoration: line-through;
            color: #777;
        }
        
        .bucket-list-date {
            font-size: 0.8rem;
            color: #777;
            margin-top: 5px;
        }
        
        .bucket-list-actions {
            display: flex;
            gap: 5px;
        }
        
        .bucket-list-btn {
            background: none;
            border: none;
            color: #777;
            cursor: pointer;
            transition: var(--transition);
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .bucket-list-btn:hover {
            background-color: rgba(232, 62, 140, 0.1);
            color: var(--primary-color);
        }
        
        .couple-journal {
            margin: 30px 0;
        }
        
        .journal-entry {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .journal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .journal-date {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .journal-mood {
            font-size: 0.9rem;
            color: #777;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .journal-content {
            line-height: 1.8;
            color: #555;
        }
        
        .journal-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .journal-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .couple-wishlist {
            margin: 30px 0;
        }
        
        .wishlist-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background-color: white;
            border-radius: var(--radius);
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .wishlist-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .wishlist-priority {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-weight: bold;
        }
        
        .wishlist-text {
            flex: 1;
        }
        
        .wishlist-actions {
            display: flex;
            gap: 5px;
        }
        
        .wishlist-btn {
            background: none;
            border: none;
            color: #777;
            cursor: pointer;
            transition: var(--transition);
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .wishlist-btn:hover {
            background-color: rgba(232, 62, 140, 0.1);
            color: var(--primary-color);
        }
        
        .couple-games {
            margin: 30px 0;
        }
        
        .game-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .game-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .game-description {
            color: #555;
            margin-bottom: 15px;
        }
        
        .game-difficulty {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 15px;
        }
        
        .game-stars {
            color: var(--primary-color);
        }
        
        .game-btn {
            width: 100%;
        }
        
        .couple-stats {
            margin: 30px 0;
        }
        
        .stat-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .stat-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .stat-chart {
            height: 200px;
            background-color: #f9f9f9;
            border-radius: var(--radius);
            margin-bottom: 15px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            padding: 10px;
        }
        
        .stat-bar {
            width: 30px;
            background: var(--gradient);
            border-radius: 5px 5px 0 0;
            transition: height 0.5s ease;
        }
        
        .stat-labels {
            display: flex;
            justify-content: space-around;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #777;
            text-align: center;
            width: 30px;
        }
        
        .couple-reminders {
            margin: 30px 0;
        }
        
        .reminder-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            position: relative;
            transition: var(--transition);
        }
        
        .reminder-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .reminder-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .reminder-title {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .reminder-date {
            font-size: 0.8rem;
            color: #777;
        }
        
        .reminder-description {
            color: #555;
            margin-bottom: 15px;
        }
        
        .reminder-actions {
            display: flex;
            gap: 10px;
        }
        
        .reminder-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .reminder-urgent {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: #e74c3c;
            color: white;
            padding: 3px 10px;
            border-radius: 50px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .couple-notes {
            margin: 30px 0;
        }
        
        .note-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .note-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .note-title {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .note-date {
            font-size: 0.8rem;
            color: #777;
        }
        
        .note-content {
            color: #555;
            margin-bottom: 15px;
        }
        
        .note-actions {
            display: flex;
            gap: 10px;
        }
        
        .note-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .couple-travel {
            margin: 30px 0;
        }
        
        .travel-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .travel-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .travel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .travel-title {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        .travel-date {
            font-size: 0.8rem;
            color: #777;
        }
        
        .travel-location {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .travel-description {
            color: #555;
            margin-bottom: 15px;
        }
        
        .travel-progress {
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .travel-progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
        }
        
        .travel-actions {
            display: flex;
            gap: 10px;
        }
        
        .travel-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .couple-finances {
            margin: 30px 0;
        }
        
        .finance-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .finance-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .finance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .finance-title {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .finance-amount {
            font-weight: bold;
        }
        
        .finance-date {
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 10px;
        }
        
        .finance-description {
            color: #555;
            margin-bottom: 15px;
        }
        
        .finance-actions {
            display: flex;
            gap: 10px;
        }
        
        .finance-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .couple-favorites {
            margin: 30px 0;
        }
        
        .favorite-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .favorite-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .favorite-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .favorite-title {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .favorite-category {
            font-size: 0.8rem;
            color: #777;
        }
        
        .favorite-description {
            color: #555;
            margin-bottom: 15px;
        }
        
        .favorite-actions {
            display: flex;
            gap: 10px;
        }
        
        .favorite-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .couple-milestones {
            margin: 30px 0;
        }
        
        .milestone-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .milestone-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .milestone-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .milestone-title {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .milestone-date {
            font-size: 0.8rem;
            color: #777;
        }
        
        .milestone-description {
            color: #555;
            margin-bottom: 15px;
        }
        
        .milestone-actions {
            display: flex;
            gap: 10px;
        }
        
        .milestone-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        .couple-quotes {
            margin: 30px 0;
        }
        
        .quote-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .quote-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .quote-text {
            font-style: italic;
            color: #555;
            margin-bottom: 10px;
            position: relative;
            padding-right: 20px;
        }
        
        .quote-text::before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 0;
            font-size: 3rem;
            color: var(--primary-color);
            opacity: 0.2;
            font-family: serif;
        }
        
        .quote-author {
            text-align: left;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .quote-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .quote-btn {
            padding: 5px 10px;
            font-size: 0.8rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .section {
                padding: 20px;
            }
            
            .countdown {
                gap: 10px;
            }
            
            .countdown div {
                padding: 15px;
                min-width: 70px;
                font-size: 1.5rem;
            }
            
            .countdown div span {
                font-size: 0.8rem;
            }
            
            .stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .stat-item {
                min-width: 100%;
            }
            
            .btn-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }
            
            h2 {
                font-size: 1.3rem;
            }
            
            .countdown div {
                padding: 10px;
                min-width: 60px;
                font-size: 1.2rem;
            }
            
            .memory-item, .love-note, .challenge {
                padding: 15px;
            }
            
            .section {
                padding: 15px;
            }
            
            button, .btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
    <header>
        <h1>مرحبًا بك في عالم الحب الرقمي! 💖</h1>
        <p>ابدأ رحلتك الرومانسية مع شريكك</p>
        <div class="progress-container">
            <div class="progress-bar" style="width: 0%"></div>
        </div>
    </header>
    
    <div class="stats">
        <div class="stat-item">
            <div class="stat-number">0</div>
            <div class="stat-label">يوم معًا</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">0</div>
            <div class="stat-label">تحدي مكتمل</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">0</div>
            <div class="stat-label">ذكريات</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">0</div>
            <div class="stat-label">مفاجآت</div>
        </div>
    </div>
    
    <div class="section" id="daily-challenge">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">🏆</div>
                <h2>تحدي اليوم</h2>
            </div>
            <div class="badge">جديد!</div>
        </div>
        <div class="challenge">
            <h3 id="challenge-title">جارٍ تحميل التحدي...</h3>
            <p id="challenge-description"></p>
            <div class="btn-group">
                <button onclick="completeChallenge('daily')"><i class="fas fa-check"></i> تم الإنجاز</button>
                <button class="btn-secondary" onclick="skipChallenge()"><i class="fas fa-forward"></i> تخطي هذا التحدي</button>
            </div>
        </div>
    </div>
    
    <div class="section" id="memories">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">💞</div>
                <h2>ذكرياتنا</h2>
            </div>
            <button class="btn-sm" onclick="openModal('memories-modal')"><i class="fas fa-plus"></i> إضافة ذكرى</button>
        </div>
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('all-memories')">الكل</div>
                <div class="tab" onclick="switchTab('challenge-memories')">التحديات</div>
                <div class="tab" onclick="switchTab('surprise-memories')">المفاجآت</div>
                <div class="tab" onclick="switchTab('custom-memories')">مخصصة</div>
            </div>
            <div id="all-memories" class="tab-content active">
                <div id="memories-list">
                    <div class="empty-state">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDIwQTgsOCAwIDAsMCAyMCwxMkE4LDggMCAwLDAgMTIsNEE4LDggMCAwLDAgNCwxMkE4LDggMCAwLDAgMTIsMjBNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJNNyAxM0ExLDEgMCAwLDAgNiwxMkExLDEgMCAwLDAgNywxMUExLDEgMCAwLDAgOCwxMkExLDEgMCAwLDAgNywxM001NywxM0ExLDEgMCAwLDAgMTYsMTJBMSwxIDAgMCwwIDE3LDExQTEsMSAwIDAsMCAxOCwxMkExLDEgMCAwLDAgMTcsMTNNMTIsMTNBMSwxIDAgMCwwIDExLDEyQTEsMSAwIDAsMCAxMiwxMUExLDEgMCAwLDAgMTMsMTJBMSwxIDAgMCwwIDEyLDEzIiBmaWxsPSIjRTgzRThDIi8+PC9zdmc+" alt="Empty">
                        <p>لا توجد ذكريات مسجلة بعد</p>
                        <button onclick="openModal('memories-modal')"><i class="fas fa-plus"></i> إضافة أول ذكرى</button>
                    </div>
                </div>
            </div>
            <div id="challenge-memories" class="tab-content">
                <div class="empty-state">
                    <p>لا توجد تحديات مكتملة بعد</p>
                </div>
            </div>
            <div id="surprise-memories" class="tab-content">
                <div class="empty-state">
                    <p>لا توجد مفاجآت مسجلة بعد</p>
                </div>
            </div>
            <div id="custom-memories" class="tab-content">
                <div class="empty-state">
                    <p>لا توجد ذكريات مخصصة بعد</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="section" id="surprise">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">🎁</div>
                <h2>مفاجأة اليوم!</h2>
            </div>
        </div>
        <div id="surprise-content">
            <p>اضغط على الزر لتحصل على فكرة لمفاجأة رقمية لطيفة</p>
            <button onclick="generateSurprise()"><i class="fas fa-gift"></i> أعطني مفاجأة</button>
        </div>
    </div>
    
    <div class="section" id="secret-messages">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">💌</div>
                <h2>رسائل سرية</h2>
            </div>
        </div>
        <div>
            <textarea id="new-message" placeholder="اكتب رسالة سرية لشريكك... (ستظهر له/لها عند الزيارة القادمة)"></textarea>
            <div class="btn-group">
                <button onclick="saveSecretMessage()"><i class="fas fa-paper-plane"></i> إرسال</button>
                <button class="btn-secondary" onclick="clearMessage()"><i class="fas fa-trash"></i> مسح</button>
            </div>
        </div>
        <div id="received-message" class="love-note" style="display: none;">
            <h3>رسالة جديدة من حبيبك:</h3>
            <p id="message-content"></p>
            <button onclick="hideMessage()"><i class="fas fa-check"></i> تمت القراءة</button>
        </div>
    </div>
    
    <div class="section" id="countdown">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">⏳</div>
                <h2>العد التنازلي للقائنا القادم</h2>
            </div>
        </div>
        <div class="countdown" id="countdown-timer">
            <div><span>0</span><span>يوم</span></div>
            <div><span>0</span><span>ساعة</span></div>
            <div><span>0</span><span>دقيقة</span></div>
            <div><span>0</span><span>ثانية</span></div>
        </div>
        <div class="anniversary-card">
            <div class="anniversary-title">ذكرى شهرية</div>
            <div class="anniversary-date">--</div>
            <div class="anniversary-message">"ابدأوا رحلتكم الرومانسية"</div>
        </div>
    </div>
    
    <div class="section" id="feelings">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">😊</div>
                <h2>كيف أشعر اليوم؟</h2>
            </div>
        </div>
        <div class="mood-selector">
            <div class="mood-option active">
                <div class="mood-icon">😊</div>
                <div class="mood-label">سعيد</div>
            </div>
            <div class="mood-option">
                <div class="mood-icon">😍</div>
                <div class="mood-label">عاشق</div>
            </div>
            <div class="mood-option">
                <div class="mood-icon">😢</div>
                <div class="mood-label">حزين</div>
            </div>
            <div class="mood-option">
                <div class="mood-icon">😠</div>
                <div class="mood-label">غاضب</div>
            </div>
            <div class="mood-option">
                <div class="mood-icon">😴</div>
                <div class="mood-label">متعب</div>
            </div>
        </div>
        <textarea id="today-feeling" placeholder="اكتب كيف تشعر اليوم... (هذه الرسالة خاصة بك فقط)"></textarea>
        <button onclick="saveFeeling()"><i class="fas fa-save"></i> حفظ</button>
        <div id="feelings-history">
            <div class="empty-state">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDIwQTgsOCAwIDAsMCAyMCwxMkE4LDggMCAwLDAgMTIsNEE4LDggMCAwLDAgNCwxMkE4LDggMCAwLDAgMTIsMjBNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJNNyAxM0ExLDEgMCAwLDAgNiwxMkExLDEgMCAwLDAgNywxMUExLDEgMCAwLDAgOCwxMkExLDEgMCAwLDAgNywxM001NywxM0ExLDEgMCAwLDAgMTYsMTJBMSwxIDAgMCwwIDE3LDExQTEsMSAwIDAsMCAxOCwxMkExLDEgMCAwLDAgMTcsMTNNMTIsMTNBMSwxIDAgMCwwIDExLDEyQTEsMSAwIDAsMCAxMiwxMUExLDEgMCAwLDAgMTMsMTJBMSwxIDAgMCwwIDEyLDEzIiBmaWxsPSIjRTgzRThDIi8+PC9zdmc+" alt="Empty">
                <p>لا توجد مشاعر مسجلة بعد</p>
            </div>
        </div>
    </div>
    
    <div class="section" id="random-scenario">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">🎭</div>
                <h2>موقفنا الرومانسي الافتراضي اليوم</h2>
            </div>
        </div>
        <div id="scenario-content">
            <p id="scenario-text">"جارٍ تحميل الموقف..."</p>
            <button onclick="generateScenario()"><i class="fas fa-random"></i> غير الموقف</button>
        </div>
    </div>
    
    <div class="section" id="couple-goals">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">🎯</div>
                <h2>أهدافنا المشتركة</h2>
            </div>
            <button class="btn-sm" onclick="openModal('goals-modal')"><i class="fas fa-plus"></i> إضافة هدف</button>
        </div>
        <div class="empty-state">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDIwQTgsOCAwIDAsMCAyMCwxMkE4LDggMCAwLDAgMTIsNEE4LDggMCAwLDAgNCwxMkE4LDggMCAwLDAgMTIsMjBNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJNNyAxM0ExLDEgMCAwLDAgNiwxMkExLDEgMCAwLDAgNywxMUExLDEgMCAwLDAgOCwxMkExLDEgMCAwLDAgNywxM001NywxM0ExLDEgMCAwLDAgMTYsMTJBMSwxIDAgMCwwIDE3LDExQTEsMSAwIDAsMCAxOCwxMkExLDEgMCAwLDAgMTcsMTNNMTIsMTNBMSwxIDAgMCwwIDExLDEyQTEsMSAwIDAsMCAxMiwxMUExLDEgMCAwLDAgMTMsMTJBMSwxIDAgMCwwIDEyLDEzIiBmaWxsPSIjRTgzRThDIi8+PC9zdmc+" alt="Empty">
            <p>لا توجد أهداف مسجلة بعد</p>
            <button onclick="openModal('goals-modal')"><i class="fas fa-plus"></i> إضافة أول هدف</button>
        </div>
    </div>
    
    <div class="section" id="bucket-list">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">✨</div>
                <h2>قائمة أمنياتنا</h2>
            </div>
            <button class="btn-sm" onclick="openModal('bucketlist-modal')"><i class="fas fa-plus"></i> إضافة أمنية</button>
        </div>
        <div class="empty-state">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDIwQTgsOCAwIDAsMCAyMCwxMkE4LDggMCAwLDAgMTIsNEE4LDggMCAwLDAgNCwxMkE4LDggMCAwLDAgMTIsMjBNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLTEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJNNyAxM0ExLDEgMCAwLDAgNiwxMkExLDEgMCAwLDAgNywxMUExLDEgMCAwLDAgOCwxMkExLDEgMCAwLDAgNywxM001NywxM0ExLDEgMCAwLDAgMTYsMTJBMSwxIDAgMCwwIDE3LDExQTEsMSAwIDAsMCAxOCwxMkExLDEgMCAwLDAgMTcsMTNNMTIsMTNBMSwxIDAgMCwwIDExLDEyQTEsMSAwIDAsMCAxMiwxMUExLDEgMCAwLDAgMTMsMTJBMSwxIDAgMCwwIDEyLDEzIiBmaWxsPSIjRTgzRThDIi8+PC9zdmc+" alt="Empty">
            <p>لا توجد أمنيات مسجلة بعد</p>
            <button onclick="openModal('bucketlist-modal')"><i class="fas fa-plus"></i> إضافة أول أمنية</button>
        </div>
    </div>
    
    <div class="section" id="love-meter">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">💘</div>
                <h2>مقياس الحب</h2>
            </div>
        </div>
        <div class="love-meter">
            <div class="meter-container">
                <div class="meter-circle" style="background: conic-gradient(#e83e8c 0%, #6f42c1 0%);">
                    <div class="meter-value">0%</div>
                </div>
            </div>
            <div class="meter-label">ابدأوا رحلتكم معًا</div>
            <div class="meter-description">سيزداد هذا المقياس كلما شاركتم المزيد من الذكريات والتحديات</div>
        </div>
    </div>
    
    <div class="section" id="customization">
        <div class="section-header">
            <div class="section-title">
                <div class="section-icon">🎨</div>
                <h2>تخصيص الموقع</h2>
            </div>
        </div>
        <div>
            <label for="partner-name">اسم الحبيب:</label>
            <input type="text" id="partner-name" placeholder="أدخل اسم شريكك">
            
            <label for="anniversary-date">تاريخ ذكرى العلاقة:</label>
            <input type="date" id="anniversary-date">
            
            <label for="love-song">أغنيتكم المفضلة:</label>
            <input type="text" id="love-song" placeholder="أدخل اسم الأغنية">
            
            <div class="btn-group">
                <button onclick="saveCustomization()"><i class="fas fa-save"></i> حفظ التخصيصات</button>
                <button class="btn-secondary" onclick="resetCustomization()"><i class="fas fa-undo"></i> إعادة تعيين</button>
            </div>
            
            <h3 style="margin-top: 30px;">اختر لون الموقع:</h3>
            <div class="theme-selector">
                <div class="theme-option active" style="background: #e83e8c;" onclick="changeTheme('#e83e8c', '#6f42c1')"></div>
                <div class="theme-option" style="background: #6f42c1;" onclick="changeTheme('#6f42c1', '#563d7c')"></div>
                <div class="theme-option" style="background: #20c997;" onclick="changeTheme('#20c997', '#1aa179')"></div>
                <div class="theme-option" style="background: #fd7e14;" onclick="changeTheme('#fd7e14', '#e36209')"></div>
                <div class="theme-option" style="background: #0dcaf0;" onclick="changeTheme('#0dcaf0', '#0aa2c0')"></div>
                <div class="theme-option" style="background: #ffc107;" onclick="changeTheme('#ffc107', '#e0a800')"></div>
                <div class="theme-option" style="background: #dc3545;" onclick="changeTheme('#dc3545', '#bb2d3b')"></div>
            </div>
        </div>
    </div>
</div>

<!-- Floating Action Button -->
<div class="floating-btn" onclick="openModal('quick-actions-modal')">
    <i class="fas fa-bolt"></i>
</div>

<!-- Modals -->
<div id="memories-modal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal('memories-modal')">&times;</span>
        <h2>إضافة ذكرى جديدة</h2>
        <label for="memory-title">عنوان الذكرى:</label>
        <input type="text" id="memory-title" placeholder="أدخل عنوان الذكرى">
        
        <label for="memory-date">تاريخ الذكرى:</label>
        <input type="date" id="memory-date">
        
        <label for="memory-description">وصف الذكرى:</label>
        <textarea id="memory-description" placeholder="أدخل وصف الذكرى"></textarea>
        
        <label for="memory-type">نوع الذكرى:</label>
        <select id="memory-type">
            <option value="general">عام</option>
            <option value="challenge">تحدي</option>
            <option value="surprise">مفاجأة</option>
            <option value="anniversary">ذكرى سنوية</option>
        </select>
        
        <div class="btn-group">
            <button onclick="saveMemory()"><i class="fas fa-save"></i> حفظ الذكرى</button>
            <button class="btn-secondary" onclick="closeModal('memories-modal')"><i class="fas fa-times"></i> إلغاء</button>
        </div>
    </div>
</div>

<div id="goals-modal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal('goals-modal')">&times;</span>
        <h2>إضافة هدف جديد</h2>
        <label for="goal-title">عنوان الهدف:</label>
        <input type="text" id="goal-title" placeholder="أدخل عنوان الهدف">
        
        <label for="goal-date">تاريخ الهدف:</label>
        <input type="date" id="goal-date">
        
        <label for="goal-description">وصف الهدف:</label>
        <textarea id="goal-description" placeholder="أدخل وصف الهدف"></textarea>
        
        <label for="goal-priority">الأولوية:</label>
        <select id="goal-priority">
            <option value="low">منخفضة</option>
            <option value="medium">متوسطة</option>
            <option value="high">عالية</option>
        </select>
        
        <div class="btn-group">
            <button onclick="saveGoal()"><i class="fas fa-save"></i> حفظ الهدف</button>
            <button class="btn-secondary" onclick="closeModal('goals-modal')"><i class="fas fa-times"></i> إلغاء</button>
        </div>
    </div>
</div>

<div id="bucketlist-modal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal('bucketlist-modal')">&times;</span>
        <h2>إضافة أمنية جديدة</h2>
        <label for="bucketlist-item">الأمنية:</label>
        <input type="text" id="bucketlist-item" placeholder="أدخل أمنيتك">
        
        <label for="bucketlist-date">تاريخ مستهدف:</label>
        <input type="date" id="bucketlist-date">
        
        <label for="bucketlist-priority">الأولوية:</label>
        <select id="bucketlist-priority">
            <option value="1">⭐ (منخفضة)</option>
            <option value="2">⭐⭐ (متوسطة)</option>
            <option value="3">⭐⭐⭐ (عالية)</option>
            <option value="4">⭐⭐⭐⭐ (مهم جدًا)</option>
            <option value="5">⭐⭐⭐⭐⭐ (أقصى أولوية)</option>
        </select>
        
        <div class="btn-group">
            <button onclick="saveBucketListItem()"><i class="fas fa-save"></i> حفظ الأمنية</button>
            <button class="btn-secondary" onclick="closeModal('bucketlist-modal')"><i class="fas fa-times"></i> إلغاء</button>
        </div>
    </div>
</div>

<div id="quick-actions-modal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal('quick-actions-modal')">&times;</span>
        <h2>إجراءات سريعة</h2>
        <div class="btn-group" style="flex-direction: column;">
            <button onclick="openModal('memories-modal')"><i class="fas fa-memory"></i> إضافة ذكرى</button>
            <button onclick="openModal('goals-modal')"><i class="fas fa-bullseye"></i> إضافة هدف</button>
            <button onclick="openModal('bucketlist-modal')"><i class="fas fa-star"></i> إضافة أمنية</button>
            <button onclick="generateSurprise()"><i class="fas fa-gift"></i> مفاجأة سريعة</button>
            <button onclick="generateScenario()"><i class="fas fa-random"></i> تغيير الموقف</button>
            <button class="btn-secondary" onclick="closeModal('quick-actions-modal')"><i class="fas fa-times"></i> إغلاق</button>
        </div>
    </div>
</div>

<!-- Notification Container -->
<div class="notification-container" id="notification-container"></div>

<script>
// المتغيرات العامة
const nextMeetingDate = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000); // تاريخ بعد أسبوع من الآن
const scenarios = [
    "موعد عشاء رومانسي تحت النجوم",
    "جلسة أفلام ليلية مع الفشار",
    "محادثة عميقة عن أحلامكم المستقبلية",
    "تحدي كتابة قصيدة حب لبعضكما",
    "تبادل رسائل حب سرية",
    "تخطيط رحلة أحلامكم معًا"
];

const achievements = [
    {
        title: "كاتب مشاعر",
        description: "سجل شعورك لمدة 7 أيام متتالية",
        icon: "📝",
        progress: 0,
        target: 7,
        unlocked: false
    },
    {
        title: "محب مخلص",
        description: "أكمل 10 تحديات حب",
        icon: "💖",
        progress: 0,
        target: 10,
        unlocked: false
    },
    {
        title: "صانع ذكريات",
        description: "أضف 5 ذكريات",
        icon: "📸",
        progress: 0,
        target: 5,
        unlocked: false
    },
    {
        title: "سيد المفاجآت",
        description: "نفذ 3 مفاجآت",
        icon: "🎁",
        progress: 0,
        target: 3,
        unlocked: false
    }
];

let coupleGoals = [];
let bucketList = [];
let memoryPhotos = [];
let loveSongs = [];

// تحديث العد التنازلي
function updateCountdown() {
    const now = new Date();
    const diff = nextMeetingDate - now;
    
    if (diff <= 0) {
        document.getElementById('countdown-timer').innerHTML = `
            <div style="background: var(--gradient); padding: 20px; border-radius: var(--radius); color: white;">
                <p style="margin: 0; font-size: 1.2rem;">🎉 حان وقت اللقاء! استمتعوا بوقتكم معًا! 🎉</p>
            </div>
        `;
        return;
    }
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
    
    document.getElementById('countdown-timer').innerHTML = `
        <div><span>${days}</span><span>يوم</span></div>
        <div><span>${hours}</span><span>ساعة</span></div>
        <div><span>${minutes}</span><span>دقيقة</span></div>
        <div><span>${seconds}</span><span>ثانية</span></div>
    `;
}

// إكمال التحدي
function completeChallenge(type) {
    showNotification(`تم إكمال التحدي ${type} بنجاح!`, 'success');
    updateAchievementProgress("محب مخلص", 1);
}

// تخطي التحدي
function skipChallenge() {
    showNotification("تم تخطي التحدي بنجاح، سيتم تحميل تحدٍ جديد", 'info');
    // يمكنك إضافة منطق لتحميل تحد جديد هنا
}

// توليد مفاجأة
function generateSurprise() {
    const surprises = [
        "أرسل رسالة صوتية تعبر فيها عن حبك",
        "خطط لموعد افتراضي عبر الفيديو",
        "ارسم له/لها رسالة حب بسيطة",
        "أرسل له/لها أغنية تعبر عن مشاعرك",
        "جهز قائمة بأفضل الذكريات بينكما",
        "اكتب له/لها رسالة حب مفاجئة"
    ];
    const randomSurprise = surprises[Math.floor(Math.random() * surprises.length)];
    document.getElementById('surprise-content').innerHTML = `
        <h3>فكرتك للمفاجأة اليوم:</h3>
        <p>${randomSurprise}</p>
        <button onclick="generateSurprise()"><i class="fas fa-gift"></i> أعطني مفاجأة أخرى</button>
    `;
    updateAchievementProgress("سيد المفاجآت", 1);
}

// حفظ رسالة سرية
function saveSecretMessage() {
    const message = document.getElementById('new-message').value.trim();
    if (message === '') {
        showNotification('الرجاء كتابة رسالة أولاً', 'error');
        return;
    }
    
    localStorage.setItem('secretMessage', message);
    document.getElementById('new-message').value = '';
    showNotification('تم حفظ الرسالة السرية بنجاح', 'success');
}

// مسح الرسالة
function clearMessage() {
    document.getElementById('new-message').value = '';
}

// إخفاء الرسالة
function hideMessage() {
    document.getElementById('received-message').style.display = 'none';
}

// حفظ الشعور اليومي
function saveFeeling() {
    const feeling = document.getElementById('today-feeling').value.trim();
    if (feeling === '') {
        showNotification('الرجاء كتابة شعورك أولاً', 'error');
        return;
    }
    
    const selectedMood = document.querySelector('.mood-option.active .mood-label').textContent;
    const date = new Date().toLocaleDateString('ar-EG', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        weekday: 'long'
    });
    const feelingObj = { date, mood: selectedMood, feeling, timestamp: new Date().getTime() };
    
    let feelings = JSON.parse(localStorage.getItem('feelings')) || [];
    feelings.push(feelingObj);
    localStorage.setItem('feelings', JSON.stringify(feelings));
    
    document.getElementById('today-feeling').value = '';
    loadFeelings();
    showNotification('تم حفظ شعورك اليومي', 'success');
    updateAchievementProgress("كاتب مشاعر", 1);
}

// تحميل المشاعر السابقة
function loadFeelings() {
    const feelings = JSON.parse(localStorage.getItem('feelings')) || [];
    const feelingsHistory = document.getElementById('feelings-history');
    
    feelingsHistory.innerHTML = '';
    
    if (feelings.length === 0) {
        feelingsHistory.innerHTML = `
            <div class="empty-state">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDIwQTgsOCAwIDAsMCAyMCwxMkE4LDggMCAwLDAgMTIsNEE4LDggMCAwLDAgNCwxMkE4LDggMCAwLDAgMTIsMjBNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJNNyAxM0ExLDEgMCAwLDAgNiwxMkExLDEgMCAwLDAgNywxMUExLDEgMCAwLDAgOCwxMkExLDEgMCAwLDAgNywxM001NywxM0ExLDEgMCAwLDAgMTYsMTJBMSwxIDAgMCwwIDE3LDExQTEsMSAwIDAsMCAxOCwxMkExLDEgMCAwLDAgMTcsMTNNMTIsMTNBMSwxIDAgMCwwIDExLDEyQTEsMSAwIDAsMCAxMiwxMUExLDEgMCAwLDAgMTMsMTJBMSwxIDAgMCwwIDEyLDEzIiBmaWxsPSIjRTgzRThDIi8+PC9zdmc+" alt="Empty">
                <p>لا توجد مشاعر مسجلة بعد. ابدأ بمشاركة شعورك اليوم!</p>
            </div>
        `;
        return;
    }
    
    feelings.slice().reverse().forEach((item, index) => {
        if (index >= 15) return; // عرض آخر 15 شعور فقط
        
        const feelingDiv = document.createElement('div');
        feelingDiv.className = 'memory-item';
        feelingDiv.innerHTML = `
            <div class="memory-date"><i class="far fa-calendar-alt"></i> ${item.date} <span class="badge">${item.mood}</span></div>
            <p>${item.feeling}</p>
            <div class="memory-actions">
                <button class="btn-sm btn-secondary" onclick="deleteFeeling(${item.timestamp})"><i class="fas fa-trash"></i> حذف</button>
            </div>
        `;
        feelingsHistory.appendChild(feelingDiv);
    });
}

// حذف الشعور
function deleteFeeling(timestamp) {
    let feelings = JSON.parse(localStorage.getItem('feelings')) || [];
    feelings = feelings.filter(f => f.timestamp != timestamp);
    localStorage.setItem('feelings', JSON.stringify(feelings));
    loadFeelings();
    showNotification('تم حذف الشعور بنجاح', 'info');
}

// توليد موقف رومانسي عشوائي
function generateScenario() {
    const randomIndex = Math.floor(Math.random() * scenarios.length);
    const scenario = scenarios[randomIndex];
    document.getElementById('scenario-text').textContent = `"${scenario}"`;
}

// فتح المودال
function openModal(modalId) {
    document.getElementById(modalId).style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// إغلاق المودال
function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
    document.body.style.overflow = 'auto';
}

// تبديل التبويبات
function switchTab(tabId) {
    // إخفاء جميع المحتويات
    document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
    });
    
    // إلغاء تنشيط جميع التبويبات
    document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // تنشيط التبويب المحدد
    document.getElementById(tabId).classList.add('active');
    event.currentTarget.classList.add('active');
}

// عرض الإشعارات
function showNotification(message, type) {
    const container = document.getElementById('notification-container');
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    
    let icon = '';
    switch(type) {
        case 'success':
            icon = '<i class="fas fa-check-circle notification-icon"></i>';
            break;
        case 'error':
            icon = '<i class="fas fa-exclamation-circle notification-icon"></i>';
            break;
        case 'info':
            icon = '<i class="fas fa-info-circle notification-icon"></i>';
            break;
        case 'warning':
            icon = '<i class="fas fa-exclamation-triangle notification-icon"></i>';
            break;
        default:
            icon = '<i class="fas fa-bell notification-icon"></i>';
    }
    
    notification.innerHTML = `
        ${icon}
        <div>${message}</div>
        <div class="notification-close"><i class="fas fa-times"></i></div>
    `;
    
    notification.querySelector('.notification-close').onclick = function() {
        notification.classList.add('hide');
        setTimeout(() => {
            notification.remove();
        }, 300);
    };
    
    container.appendChild(notification);
    
    setTimeout(() => {
        notification.classList.add('hide');
        setTimeout(() => {
            notification.remove();
        }, 300);
    }, 5000);
}

// تحميل التخصيصات
function loadCustomization() {
    const partnerName = localStorage.getItem('partnerName');
    const theme = localStorage.getItem('theme');
    const anniversary = localStorage.getItem('anniversaryDate');
    const song = localStorage.getItem('loveSong');
    
    if (partnerName) {
        document.getElementById('partner-name').value = partnerName;
        updatePartnerName(partnerName);
    }
    
    if (anniversary) {
        document.getElementById('anniversary-date').value = anniversary;
    }
    
    if (song) {
        document.getElementById('love-song').value = song;
    }
    
    if (theme) {
        const colors = theme.split(',');
        changeTheme(colors[0], colors[1], false);
    }
}

// حفظ التخصيصات
function saveCustomization() {
    const partnerName = document.getElementById('partner-name').value.trim();
    const anniversary = document.getElementById('anniversary-date').value;
    const song = document.getElementById('love-song').value.trim();
    
    if (partnerName) {
        localStorage.setItem('partnerName', partnerName);
        updatePartnerName(partnerName);
    }
    
    if (anniversary) {
        localStorage.setItem('anniversaryDate', anniversary);
    }
    
    if (song) {
        localStorage.setItem('loveSong', song);
    }
    
    showNotification('تم حفظ التخصيصات بنجاح', 'success');
}

// إعادة تعيين التخصيصات
function resetCustomization() {
    localStorage.removeItem('partnerName');
    localStorage.removeItem('anniversaryDate');
    localStorage.removeItem('loveSong');
    document.getElementById('partner-name').value = '';
    document.getElementById('anniversary-date').value = '';
    document.getElementById('love-song').value = '';
    showNotification('تم إعادة تعيين التخصيصات', 'info');
}

// تحديث اسم الشريك في الواجهة
function updatePartnerName(name) {
    const header = document.querySelector('header h1');
    if (header) {
        header.textContent = `مرحبًا أمير و${name} 💖، هذا هو عالمكما الخاص!`;
    }
}

// تغيير سمة الموقع
function changeTheme(primary, accent, showAlert = true) {
    document.documentElement.style.setProperty('--primary-color', primary);
    document.documentElement.style.setProperty('--accent-color', accent);
    document.documentElement.style.setProperty('--gradient', `linear-gradient(135deg, ${primary}, ${accent})`);
    localStorage.setItem('theme', `${primary},${accent}`);
    
    // تحديث الأزرار النشطة
    document.querySelectorAll('.theme-option').forEach(option => {
        option.classList.remove('active');
        if (option.style.backgroundColor === primary) {
            option.classList.add('active');
        }
    });
    
    if (showAlert) {
        showNotification('تم تغيير لون الموقع', 'success');
    }
}

// تحديث تقدم الإنجاز
function updateAchievementProgress(title, increment = 1) {
    const achievement = achievements.find(a => a.title === title);
    if (achievement && achievement.progress) {
        achievement.progress += increment;
        
        if (achievement.progress >= achievement.target) {
            achievement.unlocked = true;
            showNotification(`مبروك! لقد حققت إنجاز ${title} 🎉`, 'success');
        }
    }
}

// تحميل الصفحة
document.addEventListener('DOMContentLoaded', function() {
    loadCustomization();
    loadFeelings();
    generateScenario();
    updateCountdown();
    setInterval(updateCountdown, 1000);
    
    // تحميل أي رسالة سرية موجودة
    const secretMessage = localStorage.getItem('secretMessage');
    if (secretMessage) {
        document.getElementById('message-content').textContent = secretMessage;
        document.getElementById('received-message').style.display = 'block';
        localStorage.removeItem('secretMessage');
    }
    
    // إضافة أحداث لأزرار المزاج
    document.querySelectorAll('.mood-option').forEach(option => {
        option.addEventListener('click', function() {
            document.querySelectorAll('.mood-option').forEach(opt => opt.classList.remove('active'));
            this.classList.add('active');
        });
    });
    
    // تحميل تحديات اليوم (يمكن استبدالها ببيانات حقيقية)
    document.getElementById('challenge-title').textContent = "تحدي اليوم: قل 'أحبك' بطريقة مبتكرة";
    document.getElementById('challenge-description').textContent = "استخدم وسيلة غير معتادة للتعبير عن حبك اليوم، يمكن أن تكون رسالة، هدية صغيرة، أو حتى إيماءة لطيفة.";
});
</script>
</body>
</html>